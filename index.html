<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Publicidade TV</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  overflow: hidden;
}

#slide {
  width: 100vw;
  height: 100vh;
  object-fit: contain; /* HORIZONTAL */
  transition: opacity 0.8s ease-in-out;
}

#relogio {
  position: absolute;
  top: 20px;
  right: 30px;
  color: white;
  font-size: 42px;
  font-family: Arial, sans-serif;
}
</style>
</head>

<body>
<img id="slide">
<div id="relogio"></div>

<script>
/* ========== CONFIGURAÇÃO ========== */
const DRIVE_FOLDER =
  "https://drive.google.com/embeddedfolderview?id=1Cj36xc7R4CW7sWhVDWI3L4UfGqoa959C#grid";

const TEMPO_SLIDE = 8000; // 8 segundos
/* ================================ */

let imagens = [];
let index = 0;

/* BUSCA IMAGENS DO DRIVE */
async function carregarImagens() {
  const res = await fetch(DRIVE_FOLDER);
  const html = await res.text();

  const regex = /https:\/\/lh3\.googleusercontent\.com\/[^\"]+/g;
  imagens = [...new Set(html.match(regex))];
}

/* MOSTRA SLIDES */
function mostrarSlide() {
  if (!imagens.length) return;

  const slide = document.getElementById("slide");
  slide.style.opacity = 0;

  setTimeout(() => {
    slide.src = imagens[index];
    slide.style.opacity = 1;
    index = (index + 1) % imagens.length;
  }, 400);
}

/* RELÓGIO */
setInterval(() => {
  const d = new Date();
  document.getElementById("relogio").innerText =
    d.toLocaleTimeString("pt-BR", { hour: "2-digit", minute: "2-digit" });
}, 1000);

/* INICIAR */
async function iniciar() {
  await carregarImagens();
  mostrarSlide();
  setInterval(mostrarSlide, TEMPO_SLIDE);
}

iniciar();
</script>
</body>
</html>
